# Парсер книг с сайта tululu.org

Данный репозиторий, представляет собой скрипт для сбора информации о книгах с сайта [tululu.org](tululu.org).
Под информацией подразумевается название книги, автор, картинка с обложкой (если таковая имеется), комментарии к книге
и непосредственно сам текст.

Т.к. каждая страница книги имеет свой уникальный id, скрипт предусматривает возможность задать критерии сбора информации, а конкретно,
возможность указать границы интервала страниц для сбора информации и скачивания книг.

### Как установить

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Аргументы main.py

Для запуска достаточно ввести:
```
python main.py
```
В данном случае соберется информация о первых 10 книгах на сайте, для изменения интервала, достаточно его указать после команды запуска
```
python main.py start_page end_page
```
где `start_page` это начало интервала и является целым числом, а `end_page` это, соответственно, конец интервала и так же целое число


Пример запуска:
```commandline
python main.py 20 30
Заголовок: 20. Черный PR. Защита и нападение в бизнесе и не только
                    Жанры: ['Деловая литература']
Заголовок: 21. Чичваркин Егений. Если из 100 раз тебя посылают 99
                    Жанры: ['Биографии и мемуары', 'Деловая литература']
Заголовок: 24. Дорога в будущее
                    Жанры: ['Маркетинг - PR - Реклама', 'О бизнесе популярно']
```

### Аргументы parse_tululu_category.py

Для запуска достаточно ввести:
```
python parse_tululu_category.py
```
В данном случае соберется информация со всех 701 страницы из категории "фантастика", для изменения интервала, достаточно указать его значения после команды запуска
```
python parse_tululu_category.py --start_page 650 --end_page 683
```
Всего дополнительных настроек, на данный момент шесть, все они опциональны:

`--start_page` - стартовый номер интервала страниц, для сбора информации и скачивания книг/обложек книг.

`--end_page` - финальный номер интервала страниц, для сбора информации и скачивания книг/обложек книг.

`--skip_txt` - При значении `True`, загружаться тексты книг не будут (по умолчанию будет сохранено в папке `books`).

`--skip_imgs` - При значении `True`, загружаться обложки книг не будут (по умолчанию будет сохранено в папке `images`).

`--dest_folder` - Можно указать путь для сохранения книг/обложек книг/информации о книгах в формате `*.json`.
По умолчанию всё будет сохранено в директорию, рядом с исполняемым файлом.

`--json_path` - Данный параметр принимает на вход путь до *.json файла с описанием книг/обложек книг/информации о книгах.


Пример запуска:
```commandline
python main.py  --start_page 700 --end_page 701 --skip_txt True --skip_imgs True --dest_folder Dwnlds --json_path Dwnlds
INFO:root:Сбор ссылок на книги со страниц, по жанрам
100%|█████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  3.19it/s]
INFO:root:Сбор информации с указанных страниц / скачивание книг / обложек
100%|███████████████████████████████████████████████████████████████| 25/25 [00:10<00:00,  2.32it/s]
INFO:root:Сохраняю, данные в JSON файл...
INFO:root:Готово...
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).